package com.zhgame.common.utils.buss;

import java.security.MessageDigest;

import org.apache.commons.codec.binary.Base64;

import com.zhgame.common.utils.PropertiesUtil;


public class BillingUtil {

	public static String getBillingUrl(){
		return PropertiesUtil.getProperty("billing.url");
	}

    public static String getBillingAppKey(){
        return PropertiesUtil.getProperty("billing.appKey");
    }

    public static String getBillingAppSecret(){
        return PropertiesUtil.getProperty("billing.appSecret");
    }
    
	public static String getAccountPrefix() {
		return PropertiesUtil.getProperty("accountprefix");
	}
	
	public static int getAccountIdBase() {
		return Integer.parseInt(PropertiesUtil.getProperty("accountbase"));
	}
	
	public static int getNewAccountIdBase() {
		return Integer.parseInt(PropertiesUtil.getProperty("newaccountbase"));
	}
	
	public static String base64Encode(String key) {
		return Base64.encodeBase64String(Base64.encodeBase64String(key.getBytes()).getBytes());
	}
	
	public static String createSign(String param) throws Exception {
		StringBuffer result = new StringBuffer();
		MessageDigest md5 = MessageDigest.getInstance("MD5");
		md5.update(param.getBytes("UTF-8"));
		byte[] b = md5.digest();
		for(int i=0;i<b.length;++i) {
			int x = b[i]&0xFF;
			int h = x>>>4;
			int l = x&0x0F;
			result.append((char)(h+((h<10)?'0':'a'-10)));
			result.append((char)(l+((l<10)?'0':'a'-10)));
		}
		return result.toString().substring(8, 24);
	}
	
	public static void main1(String[] args) {
		System.out.println(base64Encode("lijiuchao0801@changyou.com"));
		System.out.println(base64Encode("741456"));
	}

	public static void main2(String[] args) {
		String base = "008";
		if(base.length()<8){
			int l = 8 - base.length();
			String str = "";
			for (int i = 0; i < l; i++) {
				str+="0";
			}
			base = str + base;
		}
		System.out.println(base);
	}
	
	public static void main(String[] args) {
		String s = "4beed6a119c00bf9186e5bbea849c6b63ec1cdf5e596bf3b42093e8eeda16a38298538d2f76dca4b63bf0c9aeb622469da707961ce24f38ddd0fe67f3547267afd6c219afb6516aa6fb6b11d6c42bbb39db5eff0a5bc560eda7e865981992f958a21de7e8b138e53575e3b51332a653eddb9d7570514c03d857cba330746e87a312df0be60e22e6dae89e2eb5fcd08d598dcf7734e599855";
		System.out.println(s.length());
	}
}
